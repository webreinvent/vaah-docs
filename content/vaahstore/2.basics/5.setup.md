---
toc: true
---

# Vaah Store Setup

### Step-1 : Clone the store-dev repo
- Go to the following url:
   https://git6.webreinvent.com/vaah/store-dev
   
   <img src="/images/setup_1.png">   

   
- Click on the Clone Button and copy the url from `Clone with SSH key` option
  <img src="/images/setup_2.png">

- On the `Dashboard` of GitKraken, click on `clone a repo` in the `URL` section enter the copied `URL`   
### Step-2: Add Sub Modules
- After cloning the repo it will ask for `whether you want to initialize submodules for store-dev?`,            
you need to click on yes option, it will automatically initialize the submodules for the Store-dev repo.
### Step-3 : Initialize Git Flow 
Here you need to Initialiize Git Flow in both the store-dev repo and Store submodule
- Settings > Gitflow > Initialize Gitflow Button
### Step-4 : Add Remote URL on Store Sub-Module
- Click on the add Remote URL button 
- In the name section of it add `Git6`
- In the url section of it, add the store-module-dev repo url by copying the url from `Clone with SSH key` option.
### Step-5 : Change upstream on Store Sub-Module
- Right click on the develop or feature branch, you want to push the changes to.
- It will ask for "What remote/branch should feature/feature-name" push to and pull from?
- From the drop-down available, choose git6 and click on submit button

### Step-6 : Setup the Store on the local machine
#### Steps to setup the store on the local machine
1. On the devlop branch of store-dev module, create three .env files      
   - env(copy the content from .env.example file)      
   - env.your-name (copy the content from similar file existed there) for example .env.sumit    
     here you need to carefully fill the details like database name, user-name,password etc.   
     You can take reference from already existing file with similar names.

   - env.your-name-feature (it will be used for testing environment) for example .env.sumit-feature   
      Here you need to provide the details like database name, app url etc.   
      you can take reference from similar created files but here you need to create database on the following url:   
      https://test.dev.getdemo.dev/phpmyadmin/index.php
   
2. Update the vaahcms.json file of Store-dev repo
   here add the env files you have created like .env.sumit and .env.sumit-feature
   - Open the project using localhost/directory-name/store-dev/vaahcms/setup,   
      e.g localhost/suraj-k001/store-dev/vaahcms/setup   
      It will ask some questions,that we already have learnt while setting up vaahCms.   

3.Login to the Vaah Store using following link with the credentials:   
      http://localhost/your-directory-name/store-dev/public/backend

   
### Step-7 : Create a new feature for your crud
- Click on the Open Gitflow button in front of Gitflow in the Store submodule
- Click on Start > Feature > Feature name > Start Feature button

### Step-8 : Setup the Store on the testing environment
- Once you create MR for your feature after you are done with your feature branch, the job will run, go to pipeline section it will give you   
   unique pipeline id, then you need to click on job it will give you the job id from the jobs section and from there   
   it will provide you the testing environment url.   
   e.g https://test.dev.getdemo.dev/store-dev/sumit-k001/public/

- Run the vaah cms setup 
   for e.g https://test.dev.getdemo.dev/store-dev/sumit-k001/public/backend/vaahcms/setup
- All the details will be automatically filled once you choose your feature .env file from the list of dropdowns
   for e.g .env.sumit-feature
- Click on test database connection, then save and next
- Login with the credentials and you will be able to see the dashboard of Vaah store

### Step-9 : Steps to make sure changes are reflected on testing environment
- After login click on Extends > Modules
- Deactivate and then activate the store module again and then click on Publish Assets button
   
- Click on the Store link in the sidebar 
- You should be able to see the dashboard of Vaah Store with updated changes

