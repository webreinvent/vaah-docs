---
toc: true
title: Payments
---

## Overview
In an e-commerce backend (VaahStore), the Payments CRUD  is crucial for managing transactions, processing payments, and maintaining financial records. Hereâ€™s an overview of its purpose, usage, and other details:

## Purpose
The Payments CRUD system handles the entire lifecycle of payment transactions within an e-commerce platform (journey of a order from cart to place order). Its primary functions include:

1. **Processing Transactions:**
    - Facilitates the processing of customer payments, ensuring that orders are paid for and completed
    
2. **Tracking Payment Status:**
    - Keeps track of the payment status for each transaction, including pending, completed, failed, or refunded.
3. **Managing Records:**
    - Maintain records of all payment transactions, which is essential for financial reporting and auditing.
4. **Integration with Payment Gateways:** This functionality will implement later Currently Dealing with Cash On Delivery (COD) method.

## Create Payments
To make a `Payment`  in VaahStore, follow these steps:
- Login to the `VaahStore` admin panel.
- In the left sidebar section, click on Extend > Modules
- You will be able to see all the modules
- Activate `Store` module, by clicking on the `activate` button present on the right side of your screen.
- Click on `Store` from the left sidebar, You will be able to see the dashboard of the `Vaah Store` with links to all the
  `Cruds`
- Click on the `Payments` link in the dashboard section
- List page of `Payments` crud will be opened

Follow the below image for reference :
<img src="/images/vaahstore/payments/create.png" alt="payments-create-page.png">

#### Requirements to Make a Payment
| Fields                   |   Type   | Descriptions                                      |
| ------------------------ | ---- | -------------------------------------------- |
| Orders                     |   Array   | `List of orders that the payment is associated with.`    |
| Payment Method                   |  Object    | `Details of the payment method used, such as credit card or PayPal`         |
| Payment Notes                  |    String  | `Additional notes or comments regarding the payment.` |

##### URL
```php
POST <public-url>/public/api/store/payments
```

#### Request samples

```php
$parameter = [
  "notes" => "string",                          // Optional
  "amount" => "number",                         // Required: Total amount for the payment
  "vh_st_payment_method_id" => "integer",       // Required: ID of the payment method used
  "orders" => [                        // Required: Array of orders associated with the payment
     [
       "id" => "integer",            // Required: Order ID
       "amount" => "number",         // Required: Total amount related to the order
       "paid" => "integer",          // Required: amount paid in this transaction
       "vh_user_id" => "integer",    // Required: ID of the user associated with the order
       "user_name" => "string",      // Required: Name of the user associated with the order
       "payable_amount" => "number", // Required: available payable amount in this transaction
       "pay_amount" => "number" // Required: Amount paid towards the order in this transaction
       // other general order information(optional)
     ],
        // More order objects can be added here
    ],
    
];

```

#### Response sample

```php
{
    "success": true,
    "messages": [
        "Saved successfully."
    ]
    "data": {
        "id": "integer",
        "uuid": "string",
        "vh_st_payment_method_id": "integer",
        "transaction_id": "string",
        "taxonomy_id_payment_status": "integer",
        "amount": "number",
        "status_notes": "string",
        "notes": "string",
        "payment_gate_response": "string",
        "payment_gate_status": "string",
        "date": "string",
        "meta": "object",
        // general payment information i.e create_at, updated_at
        "created_by_user": {"Object" // user details},
        "updated_by_user": {"Object" // user details},
        "deleted_by_user": {"Object" // user details},
        "status": {"Object" // status details},
        "order_payments": [
            {
                "id": "integer",
                "uuid": "string",
                "vh_st_payment_id": "integer",
                "vh_st_order_id": "integer",
                "taxonomy_id_order_payment_status": "integer",
                "payable_amount": "number",
                "payment_amount": "number",
                "remaining_payable_amount": "number",
                "date": "string",
                "meta": "object",               
                "taxonomy_order_payment_status": {
                    "id": "integer",
                    "name": "string",
                    "slug": "string"
                },
                "order": {"object" // updated order data}
            }
        ],
        "payment_method": {
            "id": "integer",
            "name": "string",
            "slug": "string"
        }
    },
    
}

```

## View Payments
In VaahStore, you can view payments in two primary ways:

1. **View All Payments:**
  - Navigate to the payments list page where all payments are displayed in a datatable.
  - This page shows a comprehensive list of all payments made, including key details such as payment ID, amount, date, and status.

2. **View Specific Payment Details:**
  - To view detailed information about a particular payment, go to the view section for that payment.
  - This section provides an in-depth look at the payment, including associated orders, payment status, and other relevant details.
