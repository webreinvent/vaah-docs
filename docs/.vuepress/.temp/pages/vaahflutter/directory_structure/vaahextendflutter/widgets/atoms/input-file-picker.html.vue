<template><div><h1 id="input-file-picker" tabindex="-1"><a class="header-anchor" href="#input-file-picker" aria-hidden="true">#</a> Input File Picker</h1>
<div class="custom-container danger"><p class="custom-container-title">Dependencies</p>
<p>depends on <a href="https://pub.dev/packages/file_picker" target="_blank" rel="noopener noreferrer">file_picker<ExternalLinkIcon/></a> for icons.</p>
</div>
<nav class="table-of-contents"><ul><li><router-link to="#how-to-use">How to use?</router-link></li><li><router-link to="#source-code">Source code</router-link></li></ul></nav>
<img height="500" :src="$withBase('/images/flutter/atom-widgets/filepicker.gif')" alt="filepicker">
<h2 id="how-to-use" tabindex="-1"><a class="header-anchor" href="#how-to-use" aria-hidden="true">#</a> How to use?</h2>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Pass <code v-pre>callback</code> function to get response when user selects file(s).</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    callback<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlatformFile</span><span class="token punctuation">></span></span><span class="token operator">?</span> files<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>files <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>files<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token class-name">Log</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>files<span class="token punctuation">.</span>length<span class="token punctuation">,</span> disableCloudLogging<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set <code v-pre>withData</code> to <code v-pre>true</code> to get file(s) with data.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    withData<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set <code v-pre>allowMultiple</code> to <code v-pre>true</code> to allow user to select multiple files.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    allowMultiple<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set <code v-pre>fileType</code> to allow specific file types. Valid values are <code v-pre>FileType.image</code>, <code v-pre>FileType.media</code>, <code v-pre>FileType.audio</code>, <code v-pre>FileType.video</code>, <code v-pre>FileType.any</code>. To allow specific extensions only, check below segment.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    fileType<span class="token punctuation">:</span> <span class="token class-name">FileType</span><span class="token punctuation">.</span>image<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Set <code v-pre>fileType</code> to <code v-pre>FileType.custom</code> and pass <code v-pre>allowedExtensions</code>.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    fileType<span class="token punctuation">:</span> <span class="token class-name">FileType</span><span class="token punctuation">.</span>custom<span class="token punctuation">,</span>
    allowedExtensions<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'pdf'</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Paas <code v-pre>padding</code> parameter to set custom padding in input field.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    padding<span class="token punctuation">:</span> horizontalPadding8 <span class="token operator">+</span> verticalPadding4<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Paas <code v-pre>isEnabled</code> parameter to enable/ disable picker.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    isEnabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Paas <code v-pre>size</code> parameter to change size of field. Available input sizes are <code v-pre>enum InputSize { extraSmall, small, medium, large, extraLarge }</code></p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    size<span class="token punctuation">:</span> <span class="token class-name">InputSize</span><span class="token punctuation">.</span>extraSmall<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Paas <code v-pre>iconBackgroundColor</code> and <code v-pre>iconColor</code> parameter to change appereance of icon.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    iconColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>
    iconBackgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>pink<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Paas <code v-pre>iconBackgroundColor</code> and <code v-pre>iconColor</code> parameters to change appereance of icon.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    iconColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>
    iconBackgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>pink<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Pass <code v-pre>validator</code> and <code v-pre>autoValidateMode</code> parameters for validation.</p>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span>
    label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">,</span>
    validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token operator">!</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'Pick File'</span></span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">'Please select file!'</span></span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    autoValidateMode<span class="token punctuation">:</span> <span class="token class-name">AutovalidateMode</span><span class="token punctuation">.</span>always<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="source-code" tabindex="-1"><a class="header-anchor" href="#source-code" aria-hidden="true">#</a> Source code</h2>
<div class="language-dart line-numbers-mode" data-ext="dart"><pre v-pre class="language-dart"><code><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:file_picker/file_picker.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:font_awesome_flutter/font_awesome_flutter.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:team/vaahextendflutter/app_theme.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:team/vaahextendflutter/helpers/constants.dart'</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:team/vaahextendflutter/helpers/enums.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">InputFilePicker</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> label<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">EdgeInsets</span> padding<span class="token punctuation">;</span>
  <span class="token keyword">final</span> double borderRadius<span class="token punctuation">;</span>
  <span class="token keyword">final</span> bool isEnabled<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">InputSize</span> size<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Color</span><span class="token operator">?</span> iconBackgroundColor<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Color</span><span class="token operator">?</span> iconColor<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span> validator<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">AutovalidateMode</span><span class="token operator">?</span> autoValidateMode<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlatformFile</span><span class="token punctuation">></span></span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span> callback<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> dialogTitle<span class="token punctuation">;</span>
  <span class="token keyword">final</span> bool withData<span class="token punctuation">;</span>
  <span class="token keyword">final</span> bool allowMultiple<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">FileType</span> fileType<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token operator">?</span> allowedExtensions<span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token class-name">InputFilePicker</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>label<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>padding <span class="token operator">=</span> allPadding12<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>borderRadius <span class="token operator">=</span> defaultPadding <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isEnabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token class-name">InputSize</span><span class="token punctuation">.</span>medium<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>iconBackgroundColor<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>iconColor<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>validator<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>autoValidateMode<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>callback<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>dialogTitle<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>withData <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>allowMultiple <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fileType <span class="token operator">=</span> <span class="token class-name">FileType</span><span class="token punctuation">.</span>any<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>allowedExtensions<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">InputFilePicker</span><span class="token punctuation">></span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">_InputFilePickerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _InputFilePickerState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">InputFilePicker</span><span class="token punctuation">></span></span> <span class="token punctuation">{</span>
  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _controller <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _controller<span class="token punctuation">.</span>text <span class="token operator">=</span> widget<span class="token punctuation">.</span>label<span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>
      onTap<span class="token punctuation">:</span> _onTap<span class="token punctuation">,</span>
      decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>
        contentPadding<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>padding<span class="token punctuation">,</span>
        border<span class="token punctuation">:</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'black'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade400<span class="token punctuation">)</span><span class="token punctuation">,</span>
        enabledBorder<span class="token punctuation">:</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'black'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade400<span class="token punctuation">)</span><span class="token punctuation">,</span>
        disabledBorder<span class="token punctuation">:</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'black'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade300<span class="token punctuation">)</span><span class="token punctuation">,</span>
        focusedBorder<span class="token punctuation">:</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'black'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade400<span class="token punctuation">)</span><span class="token punctuation">,</span>
        errorBorder<span class="token punctuation">:</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'danger'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade400<span class="token punctuation">)</span><span class="token punctuation">,</span>
        focusedErrorBorder<span class="token punctuation">:</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'danger'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade400<span class="token punctuation">)</span><span class="token punctuation">,</span>
        errorStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'danger'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade400<span class="token punctuation">)</span><span class="token punctuation">,</span>
        suffixIcon<span class="token punctuation">:</span> <span class="token class-name">InkWell</span><span class="token punctuation">(</span>
          child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>
            decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>
              borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>
                topRight<span class="token punctuation">:</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>borderRadius<span class="token punctuation">)</span><span class="token punctuation">,</span>
                bottomRight<span class="token punctuation">:</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>borderRadius<span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              color<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>iconBackgroundColor <span class="token operator">?</span><span class="token operator">?</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'primary'</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>
              mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>
              children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token class-name">FaIcon</span><span class="token punctuation">(</span>
                  <span class="token function">asset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                  size<span class="token punctuation">:</span> <span class="token function">getFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1.3</span><span class="token punctuation">,</span>
                  color<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>iconColor <span class="token operator">?</span><span class="token operator">?</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'white'</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      controller<span class="token punctuation">:</span> _controller<span class="token punctuation">,</span>
      readOnly<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>
        fontSize<span class="token punctuation">:</span> <span class="token function">getFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        color<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>isEnabled
            <span class="token operator">?</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'black'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade400
            <span class="token punctuation">:</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>colors<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'black'</span></span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span>shade300<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
      enabled<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>isEnabled<span class="token punctuation">,</span>
      validator<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>validator<span class="token punctuation">,</span>
      autovalidateMode<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>autoValidateMode<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_onTap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token class-name">FilePickerResult</span><span class="token operator">?</span> result <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">FilePicker</span><span class="token punctuation">.</span>platform<span class="token punctuation">.</span><span class="token function">pickFiles</span><span class="token punctuation">(</span>
      allowedExtensions<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>allowedExtensions<span class="token punctuation">,</span>
      dialogTitle<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>dialogTitle<span class="token punctuation">,</span>
      type<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>fileType<span class="token punctuation">,</span>
      allowMultiple<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>allowMultiple<span class="token punctuation">,</span>
      withData<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>withData<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PlatformFile</span><span class="token punctuation">></span></span> files <span class="token operator">=</span> result<span class="token punctuation">.</span>files<span class="token punctuation">;</span>
      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _controller<span class="token punctuation">.</span>text <span class="token operator">=</span> files<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> element<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">', '</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>callback <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> widget<span class="token punctuation">.</span>callback<span class="token operator">!</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// User canceled the picker</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">OutlineInputBorder</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token class-name">Color</span> color<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span>
      borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>borderRadius<span class="token punctuation">)</span><span class="token punctuation">,</span>
      borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">(</span>
        width<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
        color<span class="token punctuation">:</span> color<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  double <span class="token function">getFontSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token class-name">InputSize</span><span class="token punctuation">.</span>extraSmall<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>extraSmall<span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token class-name">InputSize</span><span class="token punctuation">.</span>small<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>small<span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token class-name">InputSize</span><span class="token punctuation">.</span>large<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>large<span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token class-name">InputSize</span><span class="token punctuation">.</span>extraLarge<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>extraLarge<span class="token punctuation">;</span>
      <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token class-name">AppTheme</span><span class="token punctuation">.</span>medium<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">IconData</span> <span class="token function">asset</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">FontAwesomeIcons</span><span class="token punctuation">.</span>file<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>


