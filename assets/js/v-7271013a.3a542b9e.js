"use strict";(self.webpackChunkvuepress=self.webpackChunkvuepress||[]).push([[997],{79:(s,n,a)=>{a.r(n),a.d(n,{data:()=>e});const e={key:"v-7271013a",path:"/vaahcms/basic/users.html",title:"Users",lang:"en-US",frontmatter:{},excerpt:"",headers:[],filePathRelative:"vaahcms/basic/users.md",git:{updatedTime:1627122338e3}}},1683:(s,n,a)=>{a.r(n),a.d(n,{default:()=>ns});var e=a(6252);const t=(0,e.uE)('<h1 id="users" tabindex="-1"><a class="header-anchor" href="#users" aria-hidden="true">#</a> Users</h1><p>User Management is a system for authenticating users and storing user data. As of now, VaahCms has two Login option: <code>Login via Password</code> and <code>Login via OTP</code>. In <code>VaahCms</code>, you can manage all aspects of your user accounts such as changing user properties, reset passwords, enable or disable users, and more.</p><p>Visit following url you will see the Users section:</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;project-url&gt;/backend#/vaah/users/\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div>',4),o=(0,e.uE)('<hr><h5 id="user-listing" tabindex="-1"><a class="header-anchor" href="#user-listing" aria-hidden="true">#</a> User Listing</h5><p>Get a list of all your users, and their data in one place. The Users table contains all of your user data and the <code>VaahCms</code> puts all user management functions right at your fingertips. You have the ability to <code>add</code>, <code>edit</code>, and <code>delete</code> users. You can also <code>search</code>, <code>sort</code>, and <code>filter</code> your user data and modify user information and <code>roles</code>, all in the same place.</p>',3),r=(0,e.Wm)("hr",null,null,-1),p=(0,e.Wm)("h5",{id:"create-new-users",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#create-new-users","aria-hidden":"true"},"#"),(0,e.Uk)(" Create New Users")],-1),l=(0,e.Wm)("p",null,[(0,e.Uk)("You can create new user accounts within your app in "),(0,e.Wm)("code",null,"Users"),(0,e.Uk)(" section. "),(0,e.Wm)("code",null,"VaahCms"),(0,e.Uk)(" give you total control over how users get created. You decide the level of access they receive within your app.")],-1),c=(0,e.Wm)("hr",null,null,-1),i=(0,e.Wm)("h5",{id:"password-reset",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#password-reset","aria-hidden":"true"},"#"),(0,e.Uk)(" Password Reset")],-1),u=(0,e.Wm)("p",null,[(0,e.Uk)("Your users need the ability to change their password without contacting you, the "),(0,e.Wm)("code",null,"Administrator"),(0,e.Uk)(". Donâ€™t waste time manually assisting users that lose or forget their password. If you need to handle a password change yourself, you can do it from Backend.")],-1),d=(0,e.Wm)("hr",null,null,-1),g=(0,e.Wm)("h5",{id:"manage-roles",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#manage-roles","aria-hidden":"true"},"#"),(0,e.Uk)(" Manage Roles")],-1),h=(0,e.Wm)("p",null,[(0,e.Uk)("You can assign roles to a user in "),(0,e.Wm)("code",null,"Users"),(0,e.Uk)(" section. By clicking on "),(0,e.Wm)("code",null,"Role"),(0,e.Uk)(" column, a page will open that contain list of Roles along with "),(0,e.Wm)("code",null,"Yes/No"),(0,e.Uk)(" Button.")],-1),m=(0,e.Wm)("hr",null,null,-1),k=(0,e.Wm)("h5",{id:"available-methods",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#available-methods","aria-hidden":"true"},"#"),(0,e.Uk)(" Available Methods")],-1),b=(0,e.Wm)("hr",null,null,-1),q=(0,e.Wm)("h6",{id:"accessors",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#accessors","aria-hidden":"true"},"#"),(0,e.Uk)(" Accessors")],-1),f=(0,e.Uk)("To know about "),v=(0,e.Wm)("code",null,"Accessors",-1),y=(0,e.Uk)(", see "),w={href:"https://laravel.com/docs/8.x/eloquent-mutators#defining-an-accessor",target:"_blank",rel:"noopener noreferrer"},U=(0,e.Uk)("Laravel Documentation"),W=(0,e.Wm)("thead",null,[(0,e.Wm)("tr",null,[(0,e.Wm)("th",null,"Method Name"),(0,e.Wm)("th",null,"Description")])],-1),_=(0,e.Wm)("td",null,"getAvatarAttribute",-1),$=(0,e.Uk)("Get value of "),T=(0,e.Wm)("code",null,"avatar_url",-1),x=(0,e.Uk)(" column from database or "),R=(0,e.Wm)("code",null,"Gravatar",-1),A=(0,e.Uk)(" url. To know about Gravatar, "),B={href:"https://en.gravatar.com/",target:"_blank",rel:"noopener noreferrer"},P=(0,e.Uk)("click here"),I=(0,e.Wm)("tr",null,[(0,e.Wm)("td",null,"getMetaAttribute"),(0,e.Wm)("td",null,[(0,e.Uk)("Get value of "),(0,e.Wm)("code",null,"meta"),(0,e.Uk)(" column in JSON")])],-1),L=(0,e.Wm)("tr",null,[(0,e.Wm)("td",null,"getNameAttribute"),(0,e.Wm)("td",null,[(0,e.Uk)("Get value of "),(0,e.Wm)("code",null,"display_name"),(0,e.Uk)(" column or joined string of "),(0,e.Wm)("code",null,"first_name"),(0,e.Uk)(", "),(0,e.Wm)("code",null,"middle_name"),(0,e.Uk)(" and "),(0,e.Wm)("code",null,"last_name"),(0,e.Uk)(" column from database.")])],-1),N=(0,e.Wm)("hr",null,null,-1),C=(0,e.Wm)("h6",{id:"mutators",tabindex:"-1"},[(0,e.Wm)("a",{class:"header-anchor",href:"#mutators","aria-hidden":"true"},"#"),(0,e.Uk)(" Mutators")],-1),M=(0,e.Uk)("To know about "),S=(0,e.Wm)("code",null,"Mutators",-1),D=(0,e.Uk)(", see "),E={href:"https://laravel.com/docs/8.x/eloquent-mutators#defining-a-mutator",target:"_blank",rel:"noopener noreferrer"},O=(0,e.Uk)("Laravel Documentation"),G=(0,e.uE)('<table><thead><tr><th>Method Name</th><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>setMetaAttribute</td><td><code>$value</code></td><td>Set json encoded value in <code>meta</code> column</td></tr><tr><td>setFirstNameAttribute</td><td><code>$value</code></td><td>Set first character of First Name capitalized</td></tr><tr><td>setMiddleNameAttribute</td><td><code>$value</code></td><td>Set first character of Middle Name capitalized</td></tr><tr><td>setLastNameAttribute</td><td><code>$value</code></td><td>Set first character of Last Name capitalized</td></tr><tr><td>setPasswordAttribute</td><td><code>$value</code></td><td>Hashing of Password. <code>prevent_password_attr_set</code> This variable is defined to ignore this mutator.</td></tr><tr><td>setLoginOtpAttribute</td><td><code>$value</code></td><td>Hashing of Login OTP code</td></tr></tbody></table><hr><h6 id="scopes" tabindex="-1"><a class="header-anchor" href="#scopes" aria-hidden="true">#</a> Scopes</h6>',3),V=(0,e.Uk)("To know about "),Y=(0,e.Wm)("code",null,"Scopes",-1),F=(0,e.Uk)(", see "),z={href:"https://laravel.com/docs/8.x/eloquent#dynamic-scopes",target:"_blank",rel:"noopener noreferrer"},j=(0,e.Uk)("Laravel Documentation"),H=(0,e.uE)('<table><thead><tr><th>Method Name</th><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>scopeIsActive</td><td><code>$query</code></td><td>Return Active User (is-active == 1)</td></tr><tr><td>scopeBetweenDates</td><td><code>$query</code> <code>$from</code> <code>$to</code></td><td>Return User which is created between <code>$from</code> date &amp; <code>$to</code> date</td></tr><tr><td>scopeExclude</td><td><code>$query</code> <code>$columns</code></td><td>The array in <code>$columns</code> parameter is exclude from select query.</td></tr></tbody></table><hr><h6 id="relationships" tabindex="-1"><a class="header-anchor" href="#relationships" aria-hidden="true">#</a> Relationships</h6>',3),J=(0,e.Uk)("To know about "),K=(0,e.Wm)("code",null,"Relationships",-1),Q=(0,e.Uk)(", see "),X={href:"https://laravel.com/docs/8.x/eloquent-relationships#defining-relationships",target:"_blank",rel:"noopener noreferrer"},Z=(0,e.Uk)("Laravel Documentation"),ss=(0,e.uE)('<table><thead><tr><th>Method Name</th><th>Description</th></tr></thead><tbody><tr><td>createdByUser</td><td>Return data of <code>User</code> model that has an id which matches the <code>created_by</code> column of User.</td></tr><tr><td>updatedByUser</td><td>Return data of <code>User</code> model that has an id which matches the <code>updated_by</code> column of User.</td></tr><tr><td>deletedByUser</td><td>Return data of <code>User</code> model that has an id which matches the <code>deleted_by</code> column of User.</td></tr><tr><td>roles</td><td>Return data of <code>Role</code> model with <code>Pivot</code> that is assigned to Users.</td></tr></tbody></table><hr><h6 id="non-static" tabindex="-1"><a class="header-anchor" href="#non-static" aria-hidden="true">#</a> Non Static</h6><table><thead><tr><th>Method Name</th><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>getTableColumns</td><td></td><td>Get array of all columns name in User table.</td></tr><tr><td>getFormFillableColumns</td><td></td><td>Get array of some column name in User table.</td></tr><tr><td>activeRoles</td><td></td><td>Return active Roles of User.</td></tr><tr><td>hasRole</td><td><code>$role_slug</code></td><td>Return <code>true</code> if role in <code>$role_slug</code> is active.</td></tr><tr><td>isAdmin</td><td></td><td>Return <code>true</code> if <code>Administrator</code> role is active.</td></tr><tr><td>hasPermission</td><td><code>$permission_slug</code> <code>$details</code></td><td>Return <code>true</code> if permission in <code>$permission_slug</code> is active and their associated role is active.</td></tr></tbody></table><hr><h6 id="static" tabindex="-1"><a class="header-anchor" href="#static" aria-hidden="true">#</a> Static</h6><table><thead><tr><th>Method Name</th><th>Parameter</th><th>Description</th></tr></thead><tbody><tr><td>findByUsername</td><td><code>$username</code> <code>$columns = array(&#39;*&#39;)</code></td><td>The <code>findByUsername</code> method find users only by the <code>username</code> and return given columns.</td></tr><tr><td>findByEmail</td><td><code>$email</code> <code>$columns = array(&#39;*&#39;)</code></td><td>The <code>findByEmail</code> method find users only by the <code>email</code> and return given columns.</td></tr><tr><td>countAdministrators</td><td></td><td>The <code>countAdministrators</code> method return number of users which has <code>Administrator</code> role.</td></tr><tr><td>getByRoles</td><td><code>$array_role_slugs</code></td><td>The <code>getByRoles</code> method return a list of the users which has a role exists in <code>$array_role_slugs</code>.</td></tr><tr><td>getByRolesOnlyIds</td><td><code>$array_role_slugs</code></td><td>The <code>getByRolesOnlyIds</code> method return only <code>id</code> of the users which has a role exists in <code>$array_role_slugs</code>.</td></tr><tr><td>getByRolesOnlyEmails</td><td><code>$array_role_slugs</code></td><td>The <code>getByRolesOnlyEmails</code> method return only <code>email</code> of the users which has a role exists in <code>$array_role_slugs</code>.</td></tr><tr><td>rulesAdminCreate</td><td></td><td>The <code>rulesAdminCreate</code> method return the array of validation rules for User.</td></tr><tr><td>isLastAdmin</td><td></td><td>The <code>isLastAdmin</code> method return <code>true</code> if Application has only one User of Administrator role.</td></tr><tr><td>getAvatarById</td><td><code>$id</code></td><td>The <code>getAvatarById</code> method find users only by the <code>id</code> and return avatar url.</td></tr><tr><td>getUsersForAssets</td><td></td><td>The <code>getUsersForAssets</code> method return list of <code>active</code> users with following columns: <code>id</code>, <code>first_name</code>, <code>middle_name</code>, <code>last_name</code></td></tr></tbody></table><ul><li><a href="#create"># create</a></li><li><a href="#poststore"># postStore</a></li><li><a href="#validation"># validation</a></li><li><a href="#getlist"># getList</a></li><li><a href="#getitem"># getItem</a></li><li><a href="#getitemroles"># getItemRoles</a></li><li><a href="#bulkstatuschange"># bulkStatusChange</a></li><li><a href="#bulktrash"># bulkTrash</a></li></ul><hr><h6 id="create" tabindex="-1"><a class="header-anchor" href="#create" aria-hidden="true">#</a> create</h6><p><strong>Parameters:</strong> <code>$request</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string single-quoted-string">&#39;new_item&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>\n                    <span class="token string single-quoted-string">&#39;alternate_email&#39;</span>       <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;avatar_url&#39;</span>            <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;bio&#39;</span>                   <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;birth&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;country&#39;</span>               <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;country_calling_code&#39;</span>  <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;country_code&#39;</span>          <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;designation&#39;</span>           <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;display_name&#39;</span>          <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;email&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required</span>\n                    <span class="token string single-quoted-string">&#39;first_name&#39;</span>            <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required</span>\n                    <span class="token string single-quoted-string">&#39;gender&#39;</span>                <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;is_active&#39;</span>             <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required       //true:false:0:1</span>\n                    <span class="token string single-quoted-string">&#39;last_name&#39;</span>             <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;middle_name&#39;</span>           <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;password&#39;</span>              <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;phone&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;status&#39;</span>                <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required       //active:inactive</span>\n                    <span class="token string single-quoted-string">&#39;timezone&#39;</span>              <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;title&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;username&#39;</span>              <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;website&#39;</span>               <span class="token operator">=&gt;</span> <span class="token constant">null</span>\n                <span class="token punctuation">]</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><p>Creates a new user for the database on which the method is run. <code>\\WebReinvent\\VaahCms\\Entities\\User::create($request);</code> returns a duplicate user error if the email already exists in the <code>User</code> table.</p><hr><h6 id="poststore" tabindex="-1"><a class="header-anchor" href="#poststore" aria-hidden="true">#</a> postStore</h6><p><strong>Parameters:</strong> <code>$request</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string single-quoted-string">&#39;new_item&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>\n                    <span class="token string single-quoted-string">&#39;alternate_email&#39;</span>       <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;avatar_url&#39;</span>            <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;bio&#39;</span>                   <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;birth&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;country&#39;</span>               <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;country_calling_code&#39;</span>  <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;country_code&#39;</span>          <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;designation&#39;</span>           <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;display_name&#39;</span>          <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;email&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required</span>\n                    <span class="token string single-quoted-string">&#39;first_name&#39;</span>            <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required</span>\n                    <span class="token string single-quoted-string">&#39;gender&#39;</span>                <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;id&#39;</span>                    <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required</span>\n                    <span class="token string single-quoted-string">&#39;is_active&#39;</span>             <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required       //true:false:0:1</span>\n                    <span class="token string single-quoted-string">&#39;last_name&#39;</span>             <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;middle_name&#39;</span>           <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;password&#39;</span>              <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;phone&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;status&#39;</span>                <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required       //active:inactive</span>\n                    <span class="token string single-quoted-string">&#39;timezone&#39;</span>              <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;title&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;username&#39;</span>              <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>\n                    <span class="token string single-quoted-string">&#39;website&#39;</span>               <span class="token operator">=&gt;</span> <span class="token constant">null</span>\n                <span class="token punctuation">]</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p>Update an existing user in the database. <code>\\WebReinvent\\VaahCms\\Entities\\User::postStore($request);</code> returns a duplicate user error if the updated email id already exists in the <code>User</code> table.</p><hr><h6 id="validation" tabindex="-1"><a class="header-anchor" href="#validation" aria-hidden="true">#</a> validation</h6><p><strong>Parameters:</strong> <code>$inputs</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$input</span> <span class="token operator">=</span>  <span class="token punctuation">[</span>\n                    <span class="token string single-quoted-string">&#39;email&#39;</span>                 <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required</span>\n                    <span class="token string single-quoted-string">&#39;first_name&#39;</span>            <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required</span>\n                    <span class="token string single-quoted-string">&#39;is_active&#39;</span>             <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required       //true:false:0:1</span>\n                    <span class="token string single-quoted-string">&#39;status&#39;</span>                <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>    <span class="token comment">// required       //active:inactive</span>\n                <span class="token punctuation">]</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>This is a method for validate user&#39;s following columns: <code>email</code>, <code>first_name</code>, <code>is_active</code>, <code>status</code> which use Laravel Validator.</p><hr><h6 id="getlist" tabindex="-1"><a class="header-anchor" href="#getlist" aria-hidden="true">#</a> getList</h6><p><strong>Parameters:</strong> <code>$request</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string single-quoted-string">&#39;new_item&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>\n                    <span class="token string single-quoted-string">&#39;page&#39;</span>          <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// 1,2,3,4.....</span>\n                    <span class="token string single-quoted-string">&#39;q&#39;</span>             <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// search_input</span>\n                    <span class="token string single-quoted-string">&#39;trashed&#39;</span>       <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// true,false</span>\n                    <span class="token string single-quoted-string">&#39;status&#39;</span>        <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// 01,10</span>\n                    <span class="token string single-quoted-string">&#39;from&#39;</span>          <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// date</span>\n                    <span class="token string single-quoted-string">&#39;to&#39;</span>            <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// date</span>\n                    <span class="token string single-quoted-string">&#39;roles&#39;</span>         <span class="token operator">=&gt;</span> <span class="token punctuation">[</span>\n                        <span class="token string double-quoted-string">&quot;administrator&quot;</span>\n                    <span class="token punctuation">]</span>\n                <span class="token punctuation">]</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>This <code>getList</code> method that returns a list of Users, total number of roles in <code>vh_roles</code> table and status of method. The list of User are <code>Paginated.</code> There is one parameter <code>$request</code> which has following values:</p><ul><li><strong>page:</strong> This contain numbers which is used to get data of that page number in pagination.</li><li><strong>q:</strong> This contain string which is used to search in <code>vh_users</code> table by <code>id</code>, <code>email</code>, <code>first_name</code>, <code>middle_name</code>, <code>last_name</code></li><li><strong>trashed:</strong> This contain boolean values. If trashed value is true, it will return list of all Users including trashed User.</li><li><strong>status:</strong> This contain string. If status value is 01, it will return list of all Active Users.</li><li><strong>from,to:</strong> Both contain date. If there value is set, it will return list of Users who is created in between these dates.</li><li><strong>roles:</strong> This contain array of role slug. If there is some role in this array, it will return list of Users who has that role.</li></ul><hr><h6 id="getitem" tabindex="-1"><a class="header-anchor" href="#getitem" aria-hidden="true">#</a> getItem</h6><p><strong>Parameters:</strong> <code>$id</code></p><p>This <code>getItem</code> method find user only by the <code>id</code> and relation with <code>createdByUser</code>. <code>updatedByUser</code>. <code>deletedByUser</code> method. If someone is logged in and that user has <code>can-see-users-contact-details</code> permission then you will get some extra columns: <code>email</code>, <code>alternate_email</code>, <code>phone</code></p><hr><h6 id="getitemroles" tabindex="-1"><a class="header-anchor" href="#getitemroles" aria-hidden="true">#</a> getItemRoles</h6><p><strong>Parameters:</strong> <code>$request</code>, <code>$id</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string single-quoted-string">&#39;page&#39;</span>          <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// 1,2,3,4.....</span>\n                <span class="token string single-quoted-string">&#39;q&#39;</span>             <span class="token operator">=&gt;</span> <span class="token constant">null</span><span class="token punctuation">,</span>        <span class="token comment">// search_input</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>This <code>getItemRoles</code> method find user by the <code>id</code> and get the list of their associated roles. There is a parameter <code>$request</code> which has following values:</p><ul><li><strong>page:</strong> This contain numbers which is used to get data of that page number in pagination.</li><li><strong>q:</strong> This contain string which is used to search in <code>vh_roles</code> table by <code>name</code>, <code>slug</code>.</li></ul><hr><h6 id="bulkstatuschange" tabindex="-1"><a class="header-anchor" href="#bulkstatuschange" aria-hidden="true">#</a> bulkStatusChange</h6><p><strong>Parameters:</strong> <code>$request</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code> <span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string double-quoted-string">&quot;inputs&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token number">1</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;data&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    <span class="token string double-quoted-string">&quot;status&quot;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;1&quot;</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;action&quot;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;bulk-change-status&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This method is used to change the status of Users. There is one parameter <code>$request</code> which has following values:</p><ul><li><strong>inputs:</strong> This contain array of User&#39;s id which is used to find user by the <code>id</code> and update status.</li><li><strong>data:</strong> This is also a array which has one value <code>status</code>. It has new updated status of User</li><li><strong>action:</strong> This is a action name which is used to check restricted action.</li></ul><hr><h6 id="bulktrash" tabindex="-1"><a class="header-anchor" href="#bulktrash" aria-hidden="true">#</a> bulkTrash</h6><p><strong>Parameters:</strong> <code>$request</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code> <span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string double-quoted-string">&quot;inputs&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token number">1</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;data&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    \n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;action&quot;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;bulk-trash&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This method is used to soft delete the Users. There is one parameter <code>$request</code> which has following values:</p><ul><li><strong>inputs:</strong> This contain array of User&#39;s id which is used to find user by the <code>id</code> and update status.</li><li><strong>data:</strong> This is also a array which has one value <code>status</code>. It has new updated status of User</li><li><strong>action:</strong> This is a action name which is used to check restricted action.</li></ul><hr><h6 id="bulkrestore" tabindex="-1"><a class="header-anchor" href="#bulkrestore" aria-hidden="true">#</a> bulkRestore</h6><p><strong>Parameters:</strong> <code>$request</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code> <span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string double-quoted-string">&quot;inputs&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token number">1</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;data&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    \n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;action&quot;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;bulk-trash&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This method is used to restore the Users. There is one parameter <code>$request</code> which has following values:</p><ul><li><strong>inputs:</strong> This contain array of User&#39;s id which is used to find user by the <code>id</code> and update status.</li><li><strong>data:</strong> This is also a array which has one value <code>status</code>. It has new updated status of User</li><li><strong>action:</strong> This is a action name which is used to check restricted action.</li></ul><hr><h6 id="bulkdelete" tabindex="-1"><a class="header-anchor" href="#bulkdelete" aria-hidden="true">#</a> bulkDelete</h6><p><strong>Parameters:</strong> <code>$request</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code> <span class="token variable">$request</span> <span class="token operator">=</span>  <span class="token keyword">new</span> <span class="token class-name">Request</span><span class="token punctuation">(</span>\n            <span class="token punctuation">[</span>\n                <span class="token string double-quoted-string">&quot;inputs&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    <span class="token number">0</span> <span class="token operator">=&gt;</span> <span class="token number">1</span>\n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;data&quot;</span> <span class="token operator">=&gt;</span>  <span class="token punctuation">[</span>\n                    \n                <span class="token punctuation">]</span><span class="token punctuation">,</span>\n                <span class="token string double-quoted-string">&quot;action&quot;</span> <span class="token operator">=&gt;</span> <span class="token string double-quoted-string">&quot;bulk-trash&quot;</span>\n            <span class="token punctuation">]</span>\n        <span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>This method is used to permanently delete the Users. There is one parameter <code>$request</code> which has following values:</p><ul><li><strong>inputs:</strong> This contain array of User&#39;s id which is used to find user by the <code>id</code> and update status.</li><li><strong>data:</strong> This is also a array which has one value <code>status</code>. It has new updated status of User</li><li><strong>action:</strong> This is a action name which is used to check restricted action.</li></ul><hr><hr>',65),ns={render:function(s,n){const a=(0,e.up)("OutboundLink");return(0,e.wg)(),(0,e.j4)(e.HY,null,[t,(0,e.Wm)("img",{src:s.$withBase("/images/user-1.png"),alt:"user1"},null,8,["src"]),o,(0,e.Wm)("img",{src:s.$withBase("/images/user-2.png"),alt:"user2"},null,8,["src"]),r,p,l,(0,e.Wm)("img",{src:s.$withBase("/images/user-3.png"),alt:"user3"},null,8,["src"]),c,i,u,(0,e.Wm)("img",{src:s.$withBase("/images/user-4.png"),alt:"user4"},null,8,["src"]),d,g,h,(0,e.Wm)("img",{src:s.$withBase("/images/user-5.png"),alt:"user1"},null,8,["src"]),m,k,b,q,(0,e.Wm)("p",null,[f,v,y,(0,e.Wm)("a",w,[U,(0,e.Wm)(a)])]),(0,e.Wm)("table",null,[W,(0,e.Wm)("tbody",null,[(0,e.Wm)("tr",null,[_,(0,e.Wm)("td",null,[$,T,x,R,A,(0,e.Wm)("a",B,[P,(0,e.Wm)(a)])])]),I,L])]),N,C,(0,e.Wm)("p",null,[M,S,D,(0,e.Wm)("a",E,[O,(0,e.Wm)(a)])]),G,(0,e.Wm)("p",null,[V,Y,F,(0,e.Wm)("a",z,[j,(0,e.Wm)(a)])]),H,(0,e.Wm)("p",null,[J,K,Q,(0,e.Wm)("a",X,[Z,(0,e.Wm)(a)])]),ss],64)}}}}]);