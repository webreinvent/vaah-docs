import{o as n,c as a,a as e,F as o,e as s}from"./app.48b919cf.js";import{_ as i}from"./plugin-vue_export-helper.21dcd24c.js";const l={},r=s(`<h1 id="permission" tabindex="-1"><a class="header-anchor" href="#permission" aria-hidden="true">#</a> Permission</h1><p>Permissions allow users to access certain features of a course or project site, depending on their roles, and on the decisions made by the site owner and the system administrator. The ability to do actions on your site (including viewing content, editing content, and changing configuration) is governed by permissions. Each permission has a name (such as View published content) and covers one action or a small subset of actions.</p><hr><h5 id="default-permissions" tabindex="-1"><a class="header-anchor" href="#default-permissions" aria-hidden="true">#</a> Default Permissions</h5><p>These permissions are created through seeds while setup a project.</p><table><thead><tr><th>Field Name</th><th>Section</th><th>Description</th></tr></thead><tbody><tr><td>Has Access of Dashboard</td><td>Dashboard</td><td>This will allow user to see the link of dashboard.</td></tr><tr><td>Has Access of Setting Section</td><td>Setting</td><td>This will allow user to see the link of setting section.</td></tr><tr><td>Can Login In Backend</td><td>Backend</td><td>This will allow user to login in the backend.</td></tr><tr><td>Has Access Of Users Section</td><td>User</td><td>This will allow user to see the link of user section.</td></tr><tr><td>Can Create Users</td><td>User</td><td>This will allow user to add anything in the user section.</td></tr><tr><td>Can Read Users</td><td>User</td><td>This will allow user to view anything in the user section.</td></tr><tr><td>Can Update Users</td><td>User</td><td>This will allow user to edit anything in the user section.</td></tr><tr><td>Can Delete Users</td><td>User</td><td>This will allow user to delete anything in the user section.</td></tr><tr><td>Can Manage Users</td><td>User</td><td>This will allow user to manage anything in the user section.</td></tr><tr><td>Can See Users Contact Details</td><td>User</td><td>This will allow user to view contact (email, mobile) detail in the user section.</td></tr><tr><td>Has Access Of Registrations Section</td><td>Registration</td><td>This will allow user see the link of registration section.</td></tr><tr><td>Can Create Registrations</td><td>Registration</td><td>This will allow user to add anything in the registration section.</td></tr><tr><td>Can Create Users From Registrations</td><td>Registration</td><td>This will allow user to add users in the registration section.</td></tr><tr><td>Can Read Registrations</td><td>Registration</td><td>This will allow user to view anything in the registration section.</td></tr><tr><td>Can Update Registrations</td><td>Registration</td><td>This will allow user to edit anything in the registration section.</td></tr><tr><td>Can Delete Registrations</td><td>Registration</td><td>This will allow user to delete anything in the registration section.</td></tr><tr><td>Can Manage Registrations</td><td>Registration</td><td>This will allow user to manage anything in the registration section.</td></tr><tr><td>Can See Registrations Contact Details</td><td>Registration</td><td>This will allow user to view contact detail in the registration section.</td></tr><tr><td>Has Access Of Roles Section</td><td>Role</td><td>This will allow user see the link of role section.</td></tr><tr><td>Can Create Roles</td><td>Role</td><td>This will allow user to add anything in the role section.</td></tr><tr><td>Can Read Roles</td><td>Role</td><td>This will allow user to view anything in the role section.</td></tr><tr><td>Can Update Roles</td><td>Role</td><td>This will allow user to edit anything in the role section.</td></tr><tr><td>Can Delete Roles</td><td>Role</td><td>This will allow user to delete anything in the role section.</td></tr><tr><td>Can Manage Roles</td><td>Role</td><td>This will allow user to manage anything in the role section.</td></tr><tr><td>Has Access Of Permissions Section</td><td>Permission</td><td>This will allow user see the link of permission section.</td></tr><tr><td>Can Read Permissions</td><td>Permission</td><td>This will allow user to view anything in the permission section.</td></tr><tr><td>Can Update Permissions</td><td>Permission</td><td>This will allow user to edit anything in the permission section.</td></tr><tr><td>Can Manage Permissions</td><td>Permission</td><td>This will allow user to manage anything in the permission section.</td></tr><tr><td>Has Access Of Media Section</td><td>Media</td><td>This will allow user see the link of media section.</td></tr><tr><td>Can Create Media</td><td>Media</td><td>This will allow user to add anything in the media section.</td></tr><tr><td>Can Read Media</td><td>Media</td><td>This will allow user to view anything in the media section.</td></tr><tr><td>Can Update Media</td><td>Media</td><td>This will allow user to edit anything in the media section.</td></tr><tr><td>Can Delete Media</td><td>Media</td><td>This will allow user to delete anything in the media section.</td></tr><tr><td>Can Manage Media</td><td>Media</td><td>This will allow user to manage anything in the media section.</td></tr><tr><td>Has Access Of Module Section</td><td>Module</td><td>This will allow user see the link of module section.</td></tr><tr><td>Can Install Module</td><td>Module</td><td>This will allow user to install a module.</td></tr><tr><td>Can Delete Module</td><td>Module</td><td>This will allow user to delete a module.</td></tr><tr><td>Can Deactivate Module</td><td>Module</td><td>This will allow user to deactivate a module.</td></tr><tr><td>Can Activate Module</td><td>Module</td><td>This will allow user to activate a module.</td></tr><tr><td>Can Import Sample Data In Module</td><td>Module</td><td>This will allow user to import sample data in module.</td></tr><tr><td>Can Update Module</td><td>Module</td><td>This will allow user to update a module.</td></tr><tr><td>Can Read Module</td><td>Module</td><td>This will allow user to read a module.</td></tr><tr><td>Has Access Of Theme Section</td><td>Theme</td><td>This will allow user see the link of theme section.</td></tr><tr><td>Can Install Theme</td><td>Theme</td><td>This will allow user to install a theme.</td></tr><tr><td>Can Delete Theme</td><td>Theme</td><td>This will allow user to delete a theme.</td></tr><tr><td>Can Deactivate Theme</td><td>Theme</td><td>This will allow user to deactivate a theme.</td></tr><tr><td>Can Activate Theme</td><td>Theme</td><td>This will allow user to activate a theme.</td></tr><tr><td>Can Import Sample Data In Theme</td><td>Theme</td><td>This will allow user to import sample data in theme.</td></tr><tr><td>Can Update Theme</td><td>Theme</td><td>This will allow user to update a theme.</td></tr><tr><td>Can Read Theme</td><td>Theme</td><td>This will allow user to read a theme.</td></tr><tr><td>Has Access Of Advanced Section</td><td>Advanced</td><td>This will allow user see the link of advanced section.</td></tr></tbody></table><hr><h5 id="create-a-permission-via-vaahseeder" tabindex="-1"><a class="header-anchor" href="#create-a-permission-via-vaahseeder" aria-hidden="true">#</a> Create a Permission via VaahSeeder</h5><p>User can create a permission through seeds. Create a json file of name <code>permissions.json</code> at <code>.../VaahCms/Modules/{module_name}&gt;/Database/Seeds/json/</code> this directory.</p><p><code>permissions.json</code></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">[</span>

    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Has Access of Dashboard&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;module_name&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;section&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;module_section_name&gt;&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token string">&quot;This will allow user to see the link of dashboard.&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Has Access of Setting Section&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vaahcms&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;section&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Setting&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;details&quot;</span><span class="token operator">:</span> <span class="token string">&quot;This will allow user to see the link of setting section.&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    .........
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>To run this seed, you have to add some code in <code>DatabaseTableSeeder.php</code> at <code>.../VaahCms/Modules/{module_name}&gt;/Database/Seeds/</code> this directory.</p><p>DatabaseTableSeeder.php</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">namespace</span> VaahCms\\Modules\\<span class="token operator">&lt;</span>module_name<span class="token operator">&gt;</span>\\Database\\Seeds<span class="token punctuation">;</span>


<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\\</span>Database<span class="token punctuation">\\</span>Seeder</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\\</span>Support<span class="token punctuation">\\</span>Facades<span class="token punctuation">\\</span>DB</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\\</span>Support<span class="token punctuation">\\</span>Str</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">WebReinvent<span class="token punctuation">\\</span>VaahCms<span class="token punctuation">\\</span>Libraries<span class="token punctuation">\\</span>VaahSeeder</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">DatabaseTableSeeder</span> <span class="token keyword">extends</span> <span class="token class-name">Seeder</span>
<span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * Run the database seeds.
     *
     * <span class="token keyword">@return</span> <span class="token class-name"><span class="token keyword">void</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">VaahSeeder</span><span class="token operator">::</span><span class="token function">permissions</span><span class="token punctuation">(</span><span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">&#39;/json/permissions.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><hr><h5 id="assign-permission-to-roles" tabindex="-1"><a class="header-anchor" href="#assign-permission-to-roles" aria-hidden="true">#</a> Assign permission to roles</h5><p>You can add permissions to a role in <code>Permissions</code> section. By clicking on <code>Role</code> column, a page will open that contain list of Roles along with <code>Yes/NO</code> Button.</p>`,17),d=["src"],p=s(`<hr><h5 id="how-to-check-if-a-user-has-permission" tabindex="-1"><a class="header-anchor" href="#how-to-check-if-a-user-has-permission" aria-hidden="true">#</a> How to check if a user has permission?</h5><p>VaahCms provide a method to check the User&#39;s permission.</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>Auth</span><span class="token operator">::</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;&lt;permission_slug&gt;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>eg:</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\\</span>Auth</span><span class="token operator">::</span><span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;has-access-of-users-section&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">//user has &quot;has-access-of-users-section&quot; permission</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr>`,7);function c(t,u){return n(),a(o,null,[r,e("img",{src:t.$withBase("/images/permissions.png"),alt:"permission"},null,8,d),p],64)}var k=i(l,[["render",c]]);export{k as default};
